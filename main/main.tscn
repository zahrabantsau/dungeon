[gd_scene load_steps=11 format=3 uid="uid://dgg8l7aubm371"]

[ext_resource type="PackedScene" uid="uid://ct6f0lqmv6r5" path="res://level/dungeon.tscn" id="1_bidkp"]
[ext_resource type="Script" path="res://main/main.gd" id="1_m01bs"]
[ext_resource type="Texture2D" uid="uid://dlfybpnx4bgqp" path="res://assets/dungeon/Samples/dungeon_remastered_sample1.png" id="2_da848"]
[ext_resource type="PackedScene" uid="uid://jnreadvmkix" path="res://player/knight.tscn" id="2_va6rj"]
[ext_resource type="PackedScene" uid="uid://ckn01vtb7vhfe" path="res://creatures/skeleton_warrior.tscn" id="5_kfluq"]

[sub_resource type="Theme" id="Theme_vc2yo"]
default_font_size = 44

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_e5qri"]
sun_angle_max = 43.33
sun_curve = 0.270375

[sub_resource type="Sky" id="Sky_j6xad"]
sky_material = SubResource("ProceduralSkyMaterial_e5qri")

[sub_resource type="Environment" id="Environment_jq3ql"]
background_mode = 2
sky = SubResource("Sky_j6xad")

[sub_resource type="NavigationMesh" id="NavigationMesh_24vrx"]
vertices = PackedVector3Array(-26.3797, 4.42251, -3.1297, -26.3797, 4.42251, -2.8797, -26.1297, 4.42251, -2.3797, -25.6297, 4.42251, -2.8797, -25.6297, 4.42251, -3.1297, -25.8797, 4.42251, -9.6297, -21.3797, 4.42251, -1.1297, -21.1297, 4.42251, -1.6297, -21.3797, 4.42251, -3.1297, -21.8797, 4.42251, -2.8797, -25.8797, 4.42251, -9.6297, -25.8797, 4.42251, -10.1297, -26.3797, 4.42251, -3.1297, -42.1297, 4.42251, -3.1297, -42.6297, 4.42251, -2.8797, -26.3797, 4.42251, -2.8797, -26.3797, 4.42251, -3.1297, -14.1297, 4.42251, -1.8797, -21.1297, 4.42251, -1.6297, -21.3797, 4.42251, -1.1297, -10.3797, 4.42251, -1.6297, -13.8797, 4.42251, -1.8797, -2.6297, 4.42251, -13.8797, -10.1297, 4.42251, -13.3797, -9.8797, 4.42251, -13.1297, -2.6297, 4.42251, -13.1297, 17.3703, 4.42251, 17.1203, 17.6203, 4.42251, 17.6203, 17.6203, 4.42251, -1.6297, 17.1203, 4.42251, -1.3797, -25.8797, 4.42251, -10.1297, -25.8797, 4.42251, -9.6297, -14.3797, 4.42251, -9.8797, -13.8797, 4.42251, -10.1297, -2.3797, 4.42251, -42.6297, -2.8797, 4.42251, -42.3797, -2.6297, 4.42251, -13.8797, -2.3797, 4.42251, -1.8797, -13.8797, 4.42251, -1.8797, -13.8797, 4.42251, -10.1297, -14.3797, 4.42251, -9.8797, -14.1297, 4.42251, -1.8797, -2.6297, 4.42251, -13.1297, -2.6297, 4.42251, -1.8797, -2.3797, 4.42251, -1.8797, -21.8797, 4.42251, -2.8797, -21.3797, 4.42251, -3.1297, -25.6297, 4.42251, -3.1297, -25.6297, 4.42251, -2.8797, -21.3797, 4.42251, -1.1297, -21.8797, 4.42251, -2.8797, -21.6297, 4.42251, 17.6203, -21.1297, 4.42251, 17.3703, -9.8797, 4.42251, -1.8797, -9.8797, 4.42251, -13.1297, -10.1297, 4.42251, -13.3797, -10.3797, 4.42251, -1.6297, -21.1297, 4.42251, 17.3703, -21.6297, 4.42251, 17.6203, 17.6203, 4.42251, 17.6203, 17.3703, 4.42251, 17.1203, -2.6297, 4.42251, -1.8797, -9.8797, 4.42251, -1.8797, -10.3797, 4.42251, -1.6297, -2.6297, 4.42251, -1.8797, -10.3797, 4.42251, -1.6297, -21.3797, 4.42251, -1.1297, 17.1203, 4.42251, -1.3797, 17.6203, 4.42251, -1.6297, -2.3797, 4.42251, -1.8797, -2.6297, 4.42251, -13.8797, -2.6297, 4.42251, -13.1297, -2.3797, 4.42251, -1.8797, -42.3797, 4.42251, -42.1297, -42.6297, 4.42251, -42.6297, -42.6297, 4.42251, -2.8797, -42.1297, 4.42251, -3.1297, -42.6297, 4.42251, -42.6297, -42.3797, 4.42251, -42.1297, -2.8797, 4.42251, -42.3797, -2.3797, 4.42251, -42.6297, -9.3797, 0.422506, -41.1297, -10.3797, 0.672506, -41.6297, -10.6297, 0.422506, -41.1297, -11.8797, 0.422506, -24.1297, -13.3797, 0.422506, -41.1297, -14.3797, 0.672506, -41.6297, -14.6297, 0.422506, -41.1297, -13.3797, 0.422506, -24.1297, -17.3797, 0.422506, -41.1297, -18.3797, 0.672506, -41.6297, -18.6297, 0.422506, -41.1297, -13.3797, 0.422506, -24.1297, -21.3797, 0.422506, -41.1297, -22.3797, 0.672506, -41.6297, -22.6297, 0.422506, -41.1297, -14.1297, 0.422506, -23.3797, -25.3797, 0.422506, -41.1297, -26.3797, 0.672506, -41.6297, -26.6297, 0.422506, -41.1297, -14.1297, 0.422506, -23.3797, -29.3797, 0.422506, -41.1297, -30.3797, 0.672506, -41.6297, -30.6297, 0.422506, -41.1297, -14.1297, 0.422506, -23.3797, -33.3797, 0.422506, -41.1297, -34.3797, 0.672506, -41.6297, -34.6297, 0.422506, -41.1297, -14.1297, 0.422506, -23.3797, -37.3797, 0.422506, -41.1297, -38.3797, 0.672506, -41.6297, -38.6297, 0.422506, -41.1297, -14.1297, 0.422506, -23.3797, -41.1297, 0.422506, -3.8797, -39.6297, 0.422506, -3.8797, -38.8797, 0.422506, -4.3797, -3.8797, 0.422506, -41.1297, -6.3797, 0.672506, -41.6297, -6.6297, 0.422506, -41.1297, -11.8797, 0.422506, -24.1297, -11.1297, 0.422506, -23.3797, -3.6297, 0.422506, -22.6297, -13.1297, 0.422506, -10.6297, -12.8797, 0.422506, -8.6297, -11.1297, 0.422506, -8.6297, -10.8797, 0.422506, -14.1297, -14.1297, 0.422506, -23.3797, -22.6297, 0.422506, -41.1297, -25.3797, 0.422506, -41.1297, -14.1297, 0.422506, -11.1297, -13.1297, 0.422506, -10.6297, -10.8797, 0.422506, -14.1297, -11.1297, 0.422506, -23.3797, -11.1297, 0.422506, -22.6297, -3.6297, 0.422506, -22.6297, -13.3797, 0.422506, -24.1297, -14.6297, 0.422506, -41.1297, -17.3797, 0.422506, -41.1297, -10.8797, 0.422506, -14.1297, -12.3797, 0.422506, -21.6297, -14.1297, 0.422506, -22.3797, -25.6297, 0.422506, -11.1297, -14.1297, 0.422506, -11.1297, -14.1297, 0.422506, -23.3797, -26.6297, 0.422506, -41.1297, -29.3797, 0.422506, -41.1297, -38.8797, 0.422506, -4.3797, -27.1297, 0.422506, -4.1297, -27.1297, 0.422506, -9.8797, -38.8797, 0.422506, -4.3797, -27.1297, 0.422506, -9.8797, -26.6297, 0.422506, -10.8797, -14.1297, 0.422506, -23.3797, -34.6297, 0.422506, -41.1297, -37.3797, 0.422506, -41.1297, -41.1297, 0.422506, -3.8797, -38.8797, 0.422506, -4.3797, -26.6297, 0.422506, -10.8797, -14.1297, 0.422506, -23.3797, -38.6297, 0.422506, -41.1297, -41.1297, 0.422506, -41.1297, -25.6297, 0.422506, -11.1297, -14.1297, 0.422506, -22.3797, -14.1297, 0.422506, -23.3797, -26.6297, 0.422506, -10.8797, -11.8797, 0.422506, -24.1297, -10.6297, 0.422506, -41.1297, -13.3797, 0.422506, -41.1297, -13.3797, 0.422506, -24.1297, -14.1297, 0.422506, -23.3797, -13.3797, 0.422506, -24.1297, -18.6297, 0.422506, -41.1297, -21.3797, 0.422506, -41.1297, -14.1297, 0.422506, -23.3797, -30.6297, 0.422506, -41.1297, -33.3797, 0.422506, -41.1297, -11.8797, 0.422506, -24.1297, -6.6297, 0.422506, -41.1297, -9.3797, 0.422506, -41.1297, -9.6297, 0.422506, -14.6297, -8.1297, 0.422506, -14.3797, -7.3797, 0.422506, -14.8797, -11.1297, 0.422506, -22.6297, -12.3797, 0.422506, -21.6297, -12.3797, 0.422506, -21.6297, -10.8797, 0.422506, -14.1297, -9.6297, 0.422506, -14.6297, -4.6297, 0.422506, -14.8797, -3.6297, 0.422506, -14.3797, -3.6297, 0.422506, -22.6297, -7.3797, 0.422506, -14.8797, -4.6297, 0.422506, -14.8797, -3.6297, 0.422506, -22.6297, -11.1297, 0.422506, -22.6297, -3.8797, 0.422506, -12.6297, -9.1297, 0.422506, -12.6297, -8.6297, 0.422506, -10.8797, -8.6297, 0.422506, -4.1297, -9.1297, 0.422506, -2.3797, -3.6297, 0.422506, -2.3797, -8.6297, 0.422506, -4.1297, -3.6297, 0.422506, -2.3797, -3.8797, 0.422506, -12.6297, -8.6297, 0.422506, -10.8797, -19.3797, 0.422506, -8.6297, -20.3797, 0.672506, -9.1297, -20.6297, 0.422506, -8.6297, -20.8797, 0.422506, -3.8797, -14.8797, 0.422506, -9.1297, -16.3797, 0.672506, -9.1297, -16.6297, 0.422506, -8.6297, -23.3797, 0.422506, -8.6297, -25.1297, 0.422506, -9.1297, -24.8797, 0.422506, -4.3797, -23.3797, 0.422506, -8.6297, -24.8797, 0.422506, -4.3797, -20.8797, 0.422506, -3.8797, -20.6297, 0.422506, -8.6297, -16.6297, 0.422506, -8.6297, -19.3797, 0.422506, -8.6297, -20.8797, 0.422506, -3.8797, -20.8797, 0.422506, -3.8797, -20.3797, 0.422506, -2.3797, -14.8797, 0.422506, -2.3797, -14.8797, 0.422506, -9.1297, -16.6297, 0.422506, -8.6297, 12.1203, 0.422506, -0.129696, 11.3703, 0.672506, -0.629696, 10.8703, 0.422506, -0.129696, 16.1203, 0.422506, 2.6203, 8.1203, 0.422506, -0.129696, 7.1203, 0.672506, -0.629696, 6.8703, 0.422506, -0.129696, 4.1203, 0.422506, -0.129696, 3.1203, 0.672506, -0.629696, 2.8703, 0.422506, -0.129696, 16.6203, 0.422506, -0.629696, 15.1203, 0.672506, -0.629696, 14.8703, 0.422506, -0.129696, 16.6203, 0.422506, 1.8703, -13.1297, 0.422506, -3.8797, -13.1297, 0.422506, -2.3797, -12.3797, 0.422506, -2.1297, -12.6297, 0.422506, -4.6297, 16.1203, 0.422506, 2.6203, 8.1203, 0.422506, -0.129696, 6.8703, 0.422506, -0.129696, 16.1203, 0.422506, 2.6203, 2.8703, 0.422506, -0.129696, 0.120304, 0.422506, -0.129696, 16.6203, 0.422506, 16.1203, 16.6203, 0.422506, 14.1203, 16.1203, 0.422506, 13.3703, -4.6297, 0.422506, -0.129696, -7.3797, 0.422506, -0.129696, -20.3797, 0.422506, 16.1203, 16.1203, 0.422506, 2.6203, 16.6203, 0.422506, 1.8703, 14.8703, 0.422506, -0.129696, 12.1203, 0.422506, -0.129696, -0.629696, 0.422506, -0.629696, -4.3797, 0.672506, -0.629696, -4.6297, 0.422506, -0.129696, 0.120304, 0.422506, -0.129696, -7.3797, 0.422506, -0.129696, -8.1297, 0.422506, -0.629696, -11.3797, 0.422506, -0.629696, -16.6297, 0.422506, -0.129696, -19.8797, 0.422506, 13.6203, -20.3797, 0.422506, 16.1203, -10.8797, 0.422506, -2.3797, -11.1297, 0.422506, -8.6297, -12.8797, 0.422506, -8.6297, -12.6297, 0.422506, -4.6297, -12.3797, 0.422506, -2.1297, -11.6297, 0.422506, -2.1297, 16.1203, 0.422506, 2.6203, 6.8703, 0.422506, -0.129696, 4.1203, 0.422506, -0.129696, 16.1203, 0.422506, 2.6203, 4.1203, 0.422506, -0.129696, 2.8703, 0.422506, -0.129696, 16.1203, 0.422506, 2.6203, 10.8703, 0.422506, -0.129696, 8.1203, 0.422506, -0.129696, -11.6297, 0.422506, -2.1297, -12.3797, 0.422506, -2.1297, -12.3797, 0.422506, -0.879696, -11.3797, 0.422506, -0.629696, -11.3797, 0.422506, -0.629696, -12.3797, 0.422506, -0.879696, -16.6297, 0.422506, -0.129696, 16.1203, 0.422506, 2.6203, 0.120304, 0.422506, -0.129696, -4.6297, 0.422506, -0.129696, 16.1203, 0.422506, 13.3703, -16.6297, 0.422506, -0.129696, -20.1297, 0.422506, -0.379696, -19.8797, 0.422506, 13.6203)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(3, 0, 4), PackedInt32Array(4, 0, 5), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 6), PackedInt32Array(12, 11, 10), PackedInt32Array(16, 15, 13), PackedInt32Array(13, 15, 14), PackedInt32Array(21, 20, 17), PackedInt32Array(17, 20, 18), PackedInt32Array(18, 20, 19), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 22), PackedInt32Array(29, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 33), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 37), PackedInt32Array(41, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(44, 43, 42), PackedInt32Array(48, 47, 45), PackedInt32Array(45, 47, 46), PackedInt32Array(52, 51, 49), PackedInt32Array(49, 51, 50), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 56), PackedInt32Array(60, 59, 57), PackedInt32Array(57, 59, 58), PackedInt32Array(63, 62, 61), PackedInt32Array(64, 69, 65), PackedInt32Array(65, 69, 66), PackedInt32Array(66, 69, 67), PackedInt32Array(67, 69, 68), PackedInt32Array(72, 71, 70), PackedInt32Array(76, 75, 73), PackedInt32Array(73, 75, 74), PackedInt32Array(78, 77, 79), PackedInt32Array(79, 77, 80), PackedInt32Array(82, 81, 83), PackedInt32Array(83, 81, 84), PackedInt32Array(86, 85, 87), PackedInt32Array(87, 85, 88), PackedInt32Array(90, 89, 91), PackedInt32Array(91, 89, 92), PackedInt32Array(94, 93, 95), PackedInt32Array(95, 93, 96), PackedInt32Array(98, 97, 99), PackedInt32Array(99, 97, 100), PackedInt32Array(102, 101, 103), PackedInt32Array(103, 101, 104), PackedInt32Array(106, 105, 107), PackedInt32Array(107, 105, 108), PackedInt32Array(110, 109, 111), PackedInt32Array(111, 109, 112), PackedInt32Array(115, 114, 113), PackedInt32Array(117, 116, 118), PackedInt32Array(118, 116, 119), PackedInt32Array(119, 116, 120), PackedInt32Array(120, 116, 121), PackedInt32Array(123, 122, 124), PackedInt32Array(124, 122, 125), PackedInt32Array(128, 127, 126), PackedInt32Array(131, 130, 129), PackedInt32Array(134, 133, 132), PackedInt32Array(137, 136, 135), PackedInt32Array(139, 138, 140), PackedInt32Array(140, 138, 142), PackedInt32Array(140, 142, 141), PackedInt32Array(145, 144, 143), PackedInt32Array(148, 147, 146), PackedInt32Array(151, 150, 149), PackedInt32Array(154, 153, 152), PackedInt32Array(156, 155, 157), PackedInt32Array(157, 155, 158), PackedInt32Array(158, 155, 159), PackedInt32Array(159, 155, 160), PackedInt32Array(162, 161, 163), PackedInt32Array(163, 161, 164), PackedInt32Array(168, 167, 165), PackedInt32Array(165, 167, 166), PackedInt32Array(170, 169, 171), PackedInt32Array(171, 169, 172), PackedInt32Array(175, 174, 173), PackedInt32Array(178, 177, 176), PackedInt32Array(180, 179, 181), PackedInt32Array(181, 179, 183), PackedInt32Array(181, 183, 182), PackedInt32Array(186, 185, 184), PackedInt32Array(189, 188, 187), PackedInt32Array(191, 190, 192), PackedInt32Array(192, 190, 193), PackedInt32Array(196, 195, 194), PackedInt32Array(199, 198, 197), PackedInt32Array(203, 202, 200), PackedInt32Array(200, 202, 201), PackedInt32Array(205, 204, 206), PackedInt32Array(206, 204, 207), PackedInt32Array(208, 210, 209), PackedInt32Array(213, 212, 211), PackedInt32Array(217, 216, 214), PackedInt32Array(214, 216, 215), PackedInt32Array(220, 219, 218), PackedInt32Array(222, 221, 223), PackedInt32Array(223, 221, 225), PackedInt32Array(223, 225, 224), PackedInt32Array(227, 226, 228), PackedInt32Array(228, 226, 229), PackedInt32Array(230, 232, 231), PackedInt32Array(233, 235, 234), PackedInt32Array(237, 236, 238), PackedInt32Array(238, 236, 239), PackedInt32Array(241, 240, 242), PackedInt32Array(242, 240, 243), PackedInt32Array(246, 245, 244), PackedInt32Array(249, 248, 247), PackedInt32Array(251, 250, 252), PackedInt32Array(252, 250, 253), PackedInt32Array(253, 250, 254), PackedInt32Array(254, 250, 255), PackedInt32Array(257, 256, 258), PackedInt32Array(258, 256, 259), PackedInt32Array(261, 260, 262), PackedInt32Array(262, 260, 263), PackedInt32Array(265, 264, 266), PackedInt32Array(266, 264, 267), PackedInt32Array(267, 264, 268), PackedInt32Array(268, 264, 269), PackedInt32Array(275, 274, 270), PackedInt32Array(270, 274, 273), PackedInt32Array(270, 273, 271), PackedInt32Array(271, 273, 272), PackedInt32Array(278, 277, 276), PackedInt32Array(281, 280, 279), PackedInt32Array(284, 283, 282), PackedInt32Array(286, 285, 287), PackedInt32Array(287, 285, 288), PackedInt32Array(291, 290, 289), PackedInt32Array(293, 292, 294), PackedInt32Array(294, 292, 295), PackedInt32Array(297, 296, 298)]

[node name="Main" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.787014, 1.63388)
script = ExtResource("1_m01bs")

[node name="Menu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="StartButton" type="Button" parent="Menu"]
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -465.0
offset_top = -156.0
offset_right = -65.0
offset_bottom = -56.0
grow_horizontal = 0
grow_vertical = 0
theme = SubResource("Theme_vc2yo")
text = " New game "

[node name="Background" type="Sprite2D" parent="Menu"]
show_behind_parent = true
position = Vector2(960, 540)
texture = ExtResource("2_da848")

[node name="Game" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Game"]
environment = SubResource("Environment_jq3ql")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Game/WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 0.688355, 0.725374, 0, -0.725374, 0.688355, 0, 2524.93, 2439.16)

[node name="Player" parent="Game" instance=ExtResource("2_va6rj")]
transform = Transform3D(-3.49691e-08, 0, 0.8, 0, 0.8, 0, -0.8, 0, -3.49691e-08, 14, 0, 8)

[node name="Navigation" type="NavigationRegion3D" parent="Game"]
navigation_mesh = SubResource("NavigationMesh_24vrx")

[node name="Dungeon" parent="Game/Navigation" instance=ExtResource("1_bidkp")]

[node name="SkeletonWarrior" parent="Game" instance=ExtResource("5_kfluq")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -12.6436, 0.0750008, -22.8994)

[connection signal="game_started" from="." to="Game/Player" method="_on_main_game_started"]
[connection signal="pressed" from="Menu/StartButton" to="." method="_on_start_button_pressed"]
